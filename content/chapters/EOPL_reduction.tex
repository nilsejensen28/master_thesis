\setchapterpreamble[u]{\margintoc}
\chapter{Reducing \Tarski\ to \EOPL}

In the previous chapter we saw how one can show membership of \Tarski\ in \PPAD\ using the a reduction to \Sperner. We now want to show that the same idea yields a reduction to \EndOfPotentialLine\ which lies in \EOPL. This will require a much more careful analysis of the structure of a \Tarski\ instance, and of the induced coloring of the lattice points. We will need to work directly with a certain simplical decomposition of the lattice, which we will build to have some \textit{useful} properties. The final goal will be to show that for a monotone \Tarski\ instance, the associated \EndOfLine\ instance does not contain any cycles. This will be enough to show that that we can obtain a reduction to \EndOfPotentialLine.

\section{Choosing a simplicial decomposition of the lattice --- Freudenthal's Simplical Decomposition}[Freudenthal's Simplical Decomposition]
\label{sec:freudenthal_simplicial_decomposition}

In the previous chapter we left the choice of a particular simplicial decomposition of the lattice open, as it was not relevant to the reduction. We now want to be more careful and choose a simplicial decomposition, which will help us prove some structural results. We first want to discuss what properties we want our simplicial decomposition to have. The first --- and obvious --- property we want our simplicial decomposition to have is that every simplex of the decomposition is contained in exactly one cell of the lattice. This means that we can reduce the question to finding a simplical decomposition of a single $d$-dimensional hypercube of side-length $1$. Also take note, that we do not want to add any vertices, but find a decomposition of the hypercube, that can be described as a set of subsets of the hypercube's vertices.	Finally we want the vertices of a given simplex to be totally ordered, with respect to the partial order defined in \cref{sec:tarski_problem}. This will allow us to argue that two vertices are always comparable, hence their images through $f$ must also be comparable which will be useful.

Such a decomposition exists, and is known in the litterature as \textit{Freudenthal's simplical decomposition} \sidecite{freudenthal_simplizialzerlegungen_1942}. We will introduce it in a combinatorial way here, and refer the reader to the original paper for a geometric construction of the same decomposition.

\begin{definition}[Freudenthal's Simplicial Decomposition]
    Consider a unit hypercube $[0, 1]^d$ in $\R^d$ and consider $S_d$ the group of all permutations of the dimensions of the hypercube $\{1, \dots, d\}$. For every permutation $\pi \in S_d$, define the simplex $S_{\pi}$ as the convex hull of the vertices:
    \marginnote[10mm]{Here we will use the notation $e_i$ to denote the $i$-th \define{unit vector} in $\R^d$.}
    \begin{align*}
        v_0 & = (0, 0, \dots, 0)                        \\
        v_1 & = v_0 + e_{\pi(1)}                        \\
        v_2 & = v_1 + e_{\pi(2)}                        \\
            & \vdots                                    \\
        v_d & = v_{d-1} + e_{\pi(d)} = (1, 1, \dots, 1)
    \end{align*}
    The set of such simplexes $\mathcal{S} = \set{S_{\pi} : \pi \in S_d}$ is Freudenthal's simplicial decomposition of the hypercube $[0, 1]^d$.
\end{definition}
We want to begin by arguing why this decomposition is well-defined. We begin by showing that every point of the hypercube is contained in at least one simplex of $\mathcal{S}$.
\begin{lemma}
    \label{lem:caracterisation_of_simplices}
    Let $x = (x[1], \dots, x[d]) \in [0, 1]^d$, let $\pi \in S^d$ be the permutation such that $x[\pi(1)] \leq x[\pi(2)] \leq \dots \leq x[\pi(d)]$. Then $x \in S_{\pi}$.
\end{lemma}
\begin{proof}
    We want to show that $x$ is a convex combination of the vertices of $S_{\pi}$. We define the following sequence of real numbers:
    \begin{align*}
        \lambda_0     & = x[\pi(1)]               \\
        \lambda_1     & = x[\pi(2)] - x[\pi(1)]   \\
        \lambda_2     & = x[\pi(3)] - x[\pi(2)]   \\
                      & \vdots                    \\
        \lambda_{d-1} & = x[\pi(d)] - x[\pi(d-1)] \\
        \lambda_d     & = 1 - x[\pi(d)]
    \end{align*}
    Notice that we have $\lambda_i \geq 0$ for all $i$ and $\sum_{i=0}^{d} \lambda_i = 1$, by telescoping the sum. We can now write $x$ as a convex combination of the vertices of $S_{\pi}$ as follows by noticing that $v_i = \sum_{j=0}^{i} e_{\pi(j)}$:
    \begin{align*}
        \sum_{i=0}^{d} \lambda_i v_i & = \sum_{i=0}^{d} \lambda_i \left( \sum_{j=0}^{i} e_{\pi(j)} \right)  = \sum_{i=0}^{d} \sum_{j=1}^{i} \lambda_i e_{\pi(j)}                                \\
                                     & = \sum_{j=1}^{d} \sum_{i=0}^{j} \lambda_i e_{\pi(j)}  = \sum_{j=1}^{d} e_{\pi(j)} \sum_{i=0}^{j} \lambda_i		 = \sum_{j=1}^{d} e_{\pi(j)} x[\pi(j)]		     = x
    \end{align*}
    This shows that $x$ is a convex combination of the vertices of $S_{\pi}$, and thus $x \in S_{\pi}$.
\end{proof}
Next we want to discuss why this really forms a partition of the hypercube. Of course a given point $x$ can be contained in multiple simplexes, but we want to show that this does not happen appart from on the boundary of the simplices.
\begin{lemma}
    Let $S_{\pi} \in \mathcal{S}$ be a simplex. Then the \define{interior} of $S_{\pi}$ is:
    \begin{align*}
        \interior{S_{\pi}} = \set{x \in [0, 1]^d : 0 < x[\pi(1)] < x[\pi(2)] < \dots < x[\pi(d)] < 1}
    \end{align*}
\end{lemma}
\begin{proof}
    The same proof as for \cref{lem:caracterisation_of_simplices}, holds with the added constraint that all $\lambda_i > 0$, this then shows that these points are in the interior of the simplex.
\end{proof}
These two lemma's together show that we have a well-defined simplicial decomposition of the hypercube. We can now use this decomposition to prove some structural results about the lattice points of a \Tarski\ instance. We start by showing that this simplicial decomposition has the desired properties.
\begin{lemma}
    Let $S_{\pi} \in \mathcal{S}$ be a simplex. Then the vertices of $S_{\pi}$ are totally ordered with respect to the partial order defined in \cref{sec:tarski_problem}. In particular we claim that:
    \begin{align*}
        v_0 < v_1 < v_2 < \dots < v_d
    \end{align*}
\end{lemma}
\begin{proof}
    Because this relation is transitive it suffice to show that $v_i < v_{i+1}$ for all $i \in \set{0, \dots, d-1}$. This follows immediately from the construction of the $v_i$ as we have $v_i[j] = v_{i+1}[j]$ for all $j \neq \pi(i+1)$ and $v_i[\pi(i+1)] = v_{i+1}[\pi(i+1)] - 1$.
\end{proof}
This directly implies the following corollary.
\begin{corollary}
    \label{cor:total_ordering}
    For two vertices $x,y$ of any simplex $S \in \mathcal{S}$, if for any $i \in \set{1, \dots, d}$ we have $x[i] < y[i]$, then $x < y$. In particular $x \not\leq y$ is equivalent to $x > y$.
\end{corollary}
Notice that this is not the case for any two points in the hypercube, as the partial order is not a total order. This is why choosing a simplicial decomposition with this property will be crucial in the following sections.

We want to discuss what simplices of the decomposition neighboor each other. We claim that a given simplex has $d-1$ neighbooring simplices inside a given cell, and two neighbooring simplices in neighbooring cells. More precisely we have the following lemma.

\begin{lemma}[Neighbooring Simplices]
    Let $S_{\pi} \in \mathcal{S}$ be a simplex. Then the following simplices are neighbooring $S_{\pi}$:
    \begin{itemize}
        \item For every $i \in \set{1, \dots, d-1}$, set $\sigma = \pi \circ (i, i+1)$\marginnote[0pt]{With the notation $(i, i+1)$ we indicate swaping the images of $i$ and $i+1$.}, then $S_{\sigma}$ is neighbooring $S_{\pi}$ in the same cell. There are $d-1$ such simplices.
        \item Set $\sigma = [\pi(d), \pi(1), \pi(2), \dots, \pi(d-1)]$. Then $S_{\sigma}$ is neighbooring $S_{\pi}$ and is located in the cell which is in the negative $\pi(d)$ direction. There is exactly one such simplex.
        \item Set $\sigma = [\pi(2), \pi(3), \dots, \pi(d), \pi(1)]$. Then $S_{\sigma}$ is neighbooring $S_{\pi}$ and is located in the cell which is in the positive $\pi(1)$ direction. There is exactly one such simplex.
    \end{itemize}
\end{lemma}
\begin{proof}
    Todo: Write the proof.
\end{proof}

We also want to note that the graph, with these simplices as vertices and edges between neighbooring simplices, is bipartite. This follows directly from the following observation.
\begin{remark}
    For every $S_{\pi}, S_{\sigma} \in \mathcal{S}$, if $S_{\sigma}$ is neighbooring $S_{\pi}$, then $\sgn{\pi} = - \sgn{\sigma}$.
\end{remark}
\begin{proof}
    Is this actually true?
\end{proof}

\section{Orientation of a the simplicial decomposition}[Orientating the simplices]

In this section we want to discuss how to orient the simplicial decomposition of the lattice, we defined in the previous section. This will be important as we will argue in the next section, that the existence of a cycle would contradict the orientation of the simplicial decomposition. We will start by defining what we mean by an orientation of a simplex and then discuss how to extend this to a general simplicial complex.

\subsection{Orientation of a simplex}[Orienting a simplex]

\begin{definition}[Orientation of a simplex]
    An \define{orientation} of a simplex $S$ spanned by the vertices $v_0, \dots, v_d$ is a choice of a permutation of the vertices $[v_{\pi(0)}, \dots, v_{\pi(d)}]$.
\end{definition}

Notice that this leaves us with $d!$ possible orientations of a simplex. Our notion of orientability should only lead to two possible classes of orientations, as an orientation of a 1-simplex is simply a choice of direction, and an orientation of a 2-simplex is a choice of a cyclic order of the vertices. Hence we want to define when two orientations are equivalent.

\begin{definition}[Equivalent orientations]
    Two orientations $\pi$ and $\sigma$ of a simplex $S$ are \define{equivalent} if they differ by an even permutation. That is if $\sigma = \pi \circ \tau$ for some permutation $\tau$ with an even number of inversions.
\end{definition}

In particular we give a more explicit definition of the equivalence of orientations of a 2-simplex, by relying on a total order $\preceq$ of the vertices\marginnote{For a lattice this can be achieved by defining $\preceq$ to be the lexicographic order of the vertices.}. We then get the following useful lemma:

\begin{lemma}
    Two orientations $\sigma, \tau$ of a simplex $S$ are equivalent if and only if $\sgn{\sigma} = \sgn{\tau}$, with respect to the total order $\preceq$.
\end{lemma}

We would like to define the \define{opposite orientation} of a simplex, which should be an orientation which has the opposite sign with respect to the total order $\preceq$. This can be achieved by setting:
\begin{align*}
    - [v_0, v_1, v_2, \dots, v_d] = [v_1, v_0, v_2, \dots, v_d]
\end{align*}
We then have that the opposite orientation is not equivalent to the original orientation. This way we have a representative of both equivalence classes.

This means that we now have two equivalence classes of orientations for any simplex. We want to discuss how an orientation of a simplex extends to the faces of this simplex next. Notice that the faces of a simplex are themselves simplices, and thus have an orientation. Let $[v_0, \dots, v_{d}]$ be an orientation of a simplex $S$. Now notice that every face can be obtained by removing one of the vertices $v_j$ of $S$. Hence for every face $F$, the permutation $[v_0, \dots, \hat{v_j}, \dots, v_{d}]$ is an orientation of $F$\marginnote{We use the notation $\hat{v_j}$ to denote that $v_j$ is missing.}. But the orientation $- [v_0, \dots, \hat{v_j}, \dots, v_{d}]$ is also a valid orientation of $F$. For reasons which will become appearent latter we define the induced orientation of a face as follows:

\begin{definition}[Induced orientation of a face]
    Let $\sigma = [v_0, \dots, v_{d}]$ be an orientation of a simplex $S$. The \emph{induced orientation} of a face $F$ of $S$, which is obtained by removing the vertex $v_j$ from the vertex, is the orientation:
    \begin{align*}
        \sigma_j = (-1)^j \cdot [v_0, \dots, \hat{v_j}, \dots, v_{d}]
    \end{align*}
\end{definition}

\begin{figure}[ht]
    \centering
    \incfig{Orientation_of_Simplex}
    \caption[Orientation of a simplex]{Example of the orientation of a 3-simplex on the left, and the induced orientation of the faces on the right.}
    \label{fig:orientation_of_simplex}
\end{figure}

We give an example of the orientation of a 3-simplex and its faces in \cref{fig:orientation_of_simplex}. We can now discuss how we can extend this notion to a general simplicial complex.

\subsection{Orientation of a simplicial complex}[Orienting a simplicial complex]

A simplicial complex can be thought of as a collection of simplices which are be glued together on their face. Our goal is now to extend this notion of orientation to these simplicial complexes. Formally we define a simplicial complex as follows \sidecite{munkres_elements_2018}:

\begin{definition}[Simplicial complex]
    A \define{simplicial complex} $\mathcal{K}$ in $\R^d$ is a collection of simplices such that:
    \begin{enumerate}
        \item Every face of a simplex in $\mathcal{K}$ is also in $\mathcal{K}$.
        \item The intersection of any two simplices in $\mathcal{K}$ is a face of both simplices.
    \end{enumerate}
\end{definition}

Notice that the lattice points which we are interested in, together with Freudenthal's simplicial decomposition of each cell, form a simplicial complex. We now want to define an orientation of a simplicial complex. Of course such an orientation relies on an orientation of each simplex, and we want to make sure that these orientations are in some sence ``compatible'' on the faces of the simplicial complex. We will define this notion in the following definition.

\begin{definition}[Orientation of a simplicial complex]
    An \define{orientation} of a simplicial complex $\mathcal{K}$ is a choice of an orientation of every $d$-simplex in $\mathcal{K}$, such that for every intersection of two simplices $S_1, S_2 \in \mathcal{K}$, the induced orientation of the face $F = S_1 \cap S_2$ in $S_1$ and $S_2$ are opposite. \par
    If such an orientation exists, we say that the simplicial complex is \define{orientable}.
\end{definition}

We now claim that the simplicial complex formed by the lattice points and Freudenthal's simplicial decomposition is orientable. This will be crucial in the next section, where we will argue that the existence of a cycle in the \EndOfLine\ instance would contradict the orientation of the simplicial complex. In particular this shows that a Mobius Strip or the higher dimensional equivalents do not exist in our simplicial complex.

\begin{claim}
    The simplicial complex formed by the lattice points and Freudenthal's simplicial decomposition is orientable.
\end{claim}

\begin{proof}
    We will give an orientation of every $k$ simplex, and then show that the induced orientation of the faces of the simplicial complex are opposite.
    Let $\pi \in S^d$ be a permutation of the dimensions, and $v_0 \in L$ a vertex of the lattice. We then obtain a simplex $S_{\pi} \in \mathcal{S}$ as described previously in \cref{sec:freudenthal_simplicial_decomposition}.

    Assume that the vertices of $S_{\pi}$ are given by $v_0 < \dots < v_d$. We then orient $S_{\pi}$ using the permutation:
    \begin{align*}
        \sigma = \sgn{\pi} \cdot [v_0, \dots, v_d]
    \end{align*}
    Let $S_{\pi}$ and $S_{\sigma}$ be two simplices in the simplicial complex, and let $F = S_{\pi} \cap S_{\sigma}$ be a face of both simplices. We want to show that the induced orientation of $F$ in $S_{\pi}$ and $S_{\sigma}$ are opposite.
    \begin{case}{1}
        If $S_{\pi}$ and  $S_{\sigma}$ are in the same cell, then $\pi$ and $\sigma$ differ by one swap\marginnote{A \define{swap} is a cycle of length 2.}, and thus $\sgn{\pi} = - \sgn{\sigma}$. The missing vertices which induce $F$ have the same rank in $S_{\pi}$ and $S_{\sigma}$. Together this yields that the induced orientation of $F$ in $S_{\pi}$ and $S_{\sigma}$ are opposite.
    \end{case}
    \begin{case}{2}
        If $S_{\pi}$ and  $S_{\sigma}$ are not in the same cell, then $\pi$ and $\sigma$ differ by exaclty one $d$ cycle. We have two cases:
        \begin{case}{2.1}
            If $d$ is even then $\sgn{\pi} = - \sgn{\sigma}$, and the missing vertices which induce $F$ have rank $0$ and $d$ in $S_{\pi}$ and $S_{\sigma}$, which are both even, and hence $(-1)^0 = (-1)^d = 1$. Together this yields that the induced orientation of $F$ in $S_{\pi}$ and $S_{\sigma}$ are opposite.
        \end{case}
        \begin{case}{2.2}
            If $d$ is odd then $\sgn{\pi} = \sgn{\sigma}$, and the missing vertices which induce $F$ have rank $0$ and $d$ in $S_{\pi}$ and $S_{\sigma}$, because $d$ is odd, we have $-(-1)^d = -1$. Together this yields that the induced orientation of $F$ in $S_{\pi}$ and $S_{\sigma}$ are opposite.
        \end{case}
    \end{case}
    These cases, cover all possible situations and hence conclude the proof.
\end{proof}

\begin{figure}[ht]
    \centering
    \incfig{Orientation_of_Freudenthal_Example}
    \caption[Orientation of a simplicial complex]{Example of the orientation of a Freundenthals simplicial complex in 2 dimensions.}
    \label{fig:orientation_of_simplicial_complex}
\end{figure}

We give an example of such an orientation in \cref{fig:orientation_of_simplicial_complex}. We have now introduced the necessary tools to argue that a certain type of cycle cannot exist as we will argue in the following.

\section{Properties of the coloring of \Tarski\ instances}[Properties of the coloring]

In this section we want to discuss different properties with the coloring of \Tarski\ instances have. This will be helpful in arguing that the resulting \EndOfLine\ instance does not contain any cycles. We will start with general properties and then move on to properties of sequences of simplices.

\subsection{General properties of the coloring}

\marginnote{Recall that the coloring was given by: \begin{align*}
        c(x) =
        \begin{cases}
            0 & \text{if $x \leq f(x)$}         \\
            1 & \text{else if $x[1] > f(x)[1]$} \\
              & \vdots                          \\
            d & \text{else if $x[d] > f(x)[d]$}
        \end{cases}
    \end{align*}}
In this section we will assume that we are working on a integer lattice $L$, and that for a function $f : L \rightarrow L$, the points have been colored $c : L \rightarrow \set{0, \dots, d}$ as in \cref{sec:tarskistar_to_sperner}. Now we are ready to present a first observation, which will be a helpful stepping stone for more advanced results.

\begin{lemma}
    Assume that $f$ is monotone and that we have $x_i, x_j \in L$, $c(x_i) = i$ and $c(x_j) = j$ for $i, j \in \set{1, \dots, d}$ and $x_i[i] = x_j[i]$, then either:
    \begin{enumerate}
        \item $i \geq j$ or
        \item $i < j$  and $x_i \not\geq x_j$
    \end{enumerate}
\end{lemma}
\begin{proof}
    Assume that $i < j$ and $x_i \geq x_j$. We must then have $f(x_j)[i] \geq x_j[i] = x_i[i] > f(x_i)[i]$. Now by monoticity of $f$ we must have $f(x_i) \geq f(x_j)$, which is not possible if $f(x_j)[i] > f(x_i)[i]$. Hence we must have $x_i \not\geq x_j$. This shows that the lemma holds.
\end{proof}

For vertices of a given simplex we get the following corollary.
\marginnote[10mm]{Notice that if we assume that $x_i$ and $x_j$ are in the same simplex of the simplicial decomposition, then the condition $x_i \not\geq x_j$ is equivalent to $x_i \leq x_j$.}
\begin{corollary}
    Assume that $f$ is monotone and that we have $x_i, x_j \in S$, for some simplex $S\in  \mathcal{S}$. Further assume that $c(x_i) = i$ and $c(x_j) = j$ for $i, j \in \set{1, \dots, d}$ with $i < j$ and that $x_i[i] = x_j[i]$, then $x_i < x_j$.
\end{corollary}
\begin{proof}
    $x_i \leq x_j$, follows immediately. Because $x_i$ and $x_j$ are colored differently, they can not be equal which shows the strict inequality.
\end{proof}
\subsection{Properties of sequences of simplices}

Now we want to work with sequences of simplices, and show that the coloring of the vertices of these simplices have some nice properties. We start by defining what we mean by a sequence of simplices. Let $C \subset \{0, \dots, d\}$ be a subset of colors.
\begin{definition}[Valid sequence of simplices]
    A \emph{valid sequence of simplices for colors $C$} is a sequence $\left(S_i\right)_{i=1}^{k}$ of simplices $S_i \in \mathcal{S}$ such that:
    \begin{enumerate}
        \item $S_{i+1} \not\subset \set{S_1, \dots, S_i}$ for all $i \in \set{1, \dots, k-1}$.
        \item $S_i$ and $S_{i+1}$ share a $d-1$-dimensional face $F_i$ for all $i \in \set{1, \dots, k-1}$.
        \item The vertices of $F_i$ are colored only with colors in $C$.
    \end{enumerate}
\end{definition}
These sequences are the objects that latter get reduced to paths in the \EndOfLine\ instance, which is why we want to study them in detail. We define the some more terminology to help us with this.
\begin{definition}[Cycle]
    \marginnote[-10mm]{Note that the empty sequence, and all sequences consisting of a single simplex are cycles.}
    A \emph{cycle of simplices for colors $C$} is a valid sequence $\left(S_i\right)_{i=1}^{k}$ of simplices $S_i \in \mathcal{S}$ for colors $C$ such that $S_{k+1} = S_1$.
\end{definition}
\begin{definition}[Maximal sequence]
    \marginnote[-10mm]{Inuitively we say that a sequence is maximal if we cannot make it longer by adding simplices at the beginning or end.}
    A \emph{maximal sequence of simplices for colors $C$} is a valid sequence $\left(S_i\right)_{i=1}^{k}$ of simplices $S_i \in \mathcal{S}$ for colors $C$ such that:
    \begin{enumerate}
        \item There is no simplex $S_{k+1} \in \mathcal{S}$ such that $\left(S_i\right)_{i=1}^{k+1}$ is a valid sequence.
        \item There is no simplex $S_{0} \in \mathcal{S}$ such that $\left(S_i\right)_{i=0}^{k}$ is a valid sequence.
    \end{enumerate}
\end{definition}
Finally we want to define the sequence of all transitions between simplices in a sequence.
\begin{definition}[Transition sequence]
    The \emph{transition sequence} of a valid sequence $\left(S_i\right)_{i=1}^{k}$ of simplices $S_i \in \mathcal{S}$ is the sequence $\left(F_i\right)_{i=1}^{k-1}$ of $(d-1)$-dimensional faces $F_i = S_i \cap S_{i+1}$.
\end{definition}

We now are ready to study the properties of these sequence in more detail. We now restrict ourselves to the case where $C \subset \{0, \dots, d\}$ contains exactly $d$ colors (i.e.~only one color is left out). Notice that for a valid sequence $\left( S_i \right)_{i=1}^k$ we then have that the transition sequence $\left( F_i \right)_{i=1}^{k-1}$ is a sequence of $(d-1)$-dimensional simplices $S_i$ which are colored with all $d$ colors of $C$. This means that for every $j \in C$ we get a sequence of vertices $(x_i^j)_{i=1}^k$ such that $x_i^j \in F_i$ and $c(x_i^j) = j$. We will now study this special case in more detail.

\begin{lemma}
    Let $S_i$, $F_i$ and $x_j$ be as above. For any $i \in \set{1, \dots, k-1}$ there is exactly one $j \in C$ such that we have $x_i^j \neq x_{i+1}^j$.
\end{lemma}
\begin{proof}
    $F_i$ and $F_{i+1}$ are two faces of the same $d$ dimensional simplex, and thus they share exactly $d-1$ vertices. This means that there is exactly one vertex $x$ which is in $F_i$ but not in $F_{i+1}$, and exactly one vertex $y$ which is in $F_{i+1}$ but not in $F_i$. This means that there is exactly one $j$ such that $x_i^j = x$ and $x_{i+1}^j = y$.
\end{proof}

Now for a valid sequence $\left(S_i\right)_{i=1}^{k}$ of simplices, inside the color set $C = \{0, \dots, d-1\}$ we consider the following two objects:
\begin{itemize}
    \item The sequence of $(L_i)_{i}$ of subsimpleces of $S_i$ which are colored with colors in $C \setminus \{0\}$. This can be a $d-1$-dimensional face of $S_i$ or a $d-2$-dimensional face of $S_i$.
    \item The sequence of $(x_i^0)_{i}$ of vertices of $S_i$ which are colored with color $0$.
\end{itemize}
Notice that because a simplex $S_i$ could contain two vertices colored $0$ --- in which case the corresponding $L_i$ would be a $(d-2)$-simplex --- that there is no one two one correspondence between the sequence $(x_i^0)_i$ and the sequence $(L_i)_i$. It does hold though that for every $S_i$ there is a unique $L_i$. For every $L_i$:
\begin{itemize}
    \item if $L_i$ is a $(d-1)$-simplex, there is a unique $j$ such that $x_j^0$ together with the vertices of $L_i$ form the $d$-simplex $S_i$.
    \item if $L_i$ is a $(d-2)$-simplex, there is a unique $j$ such that $x_j^0$ and $x_{j+1}^0$ together with the vertices of $L_i$ form the $d$-simplex $S_i$.
\end{itemize}
We will call this $j$ the \define{pivot} of $L_i$. Before we start we want to collect a couple of useful properties of these objects.
\begin{proposition}
    Let $(S_i)_{i=0}^k$ be a valid sequence of simplices, with colors $C = \{0, \dots, d-1\}$. Let $(F_i)_{i=0}^{k-1}$ be the transition sequence, and $(L_i)_{i=0}^k$, $(x_j^0)_j$ be as above. Then the following holds:
    \begin{enumerate}
        \item For every $j$, we have that $x_j^0$ and $x_{j+1}^0$ are connected by an edge of the simplicial decomposition; \label{prop:connected_by_edge}
        \item For every $i$ we have that $L_i \cap L_{i+1}$ together with the pivot of $L_i$ and the pivot of $L_{i+1}$ form $F_i$, the transition face;
        \item All $L_i$ which are $(d-1)$-simplices have the same sign of their induced orientation in $S_i$.
    \end{enumerate}
\end{proposition}
\begin{proof}
    Notice that $x_j^0$ and $x_{j+1}^0$ are vertices in the same simplex $S_i$. In this case we have $L_i = F_i \cap F_{i+1}$. This shows \ref{prop:connected_by_edge}. \par
    The second property follows from the fact that $L_i$ is a face of $S_i$ and $S_{i+1}$, and that the pivot of $L_i$ and $L_{i+1}$ are the vertices of $F_i$. \par
    The last property requieres a little more work to show. We will show that for every $i \in \set{0, \dots, k-1}$ we have that the sign of two consecutive $L_i$'s which are $(d-1)$-simplices are the same. Assume that $L_i$ is a $(d-1)$-simplex, and that $L_{i+1}, \dots, L_{i+l-1}$ are $(d-2)$-simplices, and that $L_{i+l}$ is a $(d-1)$-simplex. We then have that $L_i$ and $L_{i+l}$ share a $d-2$-dimensional face $G$. Because of the orientation of the simplicial complex, we know that the orientation of $G$ is opposite when induced in $L_i$ and $L_{i+l}$. This means that the orientation of $L_i$ and $L_{i+l}$ must be the same.
\end{proof}
The last property which we showed is crucial. In a certain sence it shows that the vertex colored $0$ is always on the same side of the $(d-1)$-simplex $L_i$. We will use this to obtain a contradiction in the following pages.

\section{No cycles in the \EndOfLine\ instance}[No cycles in the \EndOfLine\ instance]

We are now ready to show that the \EndOfLine\ instance does not contain any cycles. We will do this by showing that the existence of a cycle would contradict the orientation of the simplicial complex. A cycle is a valid sequence such that $S_0$ and $S_k$ are a $(d-1)$-simplex as a face. We will show that certain situations cannot occur due to the orientation of the simplicial complex. And we will then argue that these situations must occur in a cycle. This will be enough to show that the \EndOfLine\ instance does not contain any cycles.
